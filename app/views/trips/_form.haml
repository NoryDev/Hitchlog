= form_for trip, :html => {:class => "trip_form"} do |f|
  %table.float_left
    = render 'shared/error_explanation', :model => trip
    %tr.text_field
      %td= f.label :from
      %td.trip_from
        = f.text_field :from, :autofocus => '', :required => ''
        #suggest
    %tr.text_field
      %td= f.label :to
      %td= f.text_field :to, :required=>''
    %tr.text_field
      %td= f.label :start, 'Started at'
      - if trip.start.nil?
        %td=f.text_field :start
      - else
        %td= text_field_tag 'trip[start]', trip.start.strftime("%d/%m/%Y %H:%M"), :size => 30
    %tr.text_field
      %td= f.label :duration, 'Duration (in hours)'
      %td= f.text_field :duration
      #time_trip_ends
    - if trip.new_record?
      %tr.text_field
        %td= f.label :hitchhikes, 'Number of rides'
        %td= f.text_field :hitchhikes, :required=>''
    %tr.select_field
      %td= f.label :travelling_with, 'Travelling', :required=>''
      %td= select_tag "trip[travelling_with]", "<option value='0'>Alone</option><option value='1'>With 1 Person</option><option value='2'>With 2 People</option><option value='3'>With 3 People</option><option value='4'>With 4 People</option>".html_safe
    

    =f.hidden_field :from_lat
    =f.hidden_field :from_lng
    =f.hidden_field :from_city
    =f.hidden_field :from_country
    =f.hidden_field :from_postal_code
    =f.hidden_field :from_street
    =f.hidden_field :from_street_no

    =f.hidden_field :to_lat
    =f.hidden_field :to_lng
    =f.hidden_field :to_city
    =f.hidden_field :to_country
    =f.hidden_field :to_postal_code
    =f.hidden_field :to_street
    =f.hidden_field :to_street_no    

  = f.submit "Submit", :class => 'button light'

- content_for :javascript_at_bottom do
  = javascript_include_tag 'map'
  = javascript_include_tag 'load_map'
  
